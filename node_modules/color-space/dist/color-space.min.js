var n={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},a={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(n){var a,t,r,h,e,u=n[0]/360,i=n[1]/100,c=n[2]/100,o=0;if(0===i)return[e=255*c,e,e];for(a=2*c-(t=c<.5?c*(1+i):c+i-c*i),h=[0,0,0];o<3;)(r=u+1/3*-(o-1))<0?r++:r>1&&r--,e=6*r<1?a+6*(t-a)*r:2*r<1?t:3*r<2?a+(t-a)*(2/3-r)*6:a,h[o++]=255*e;return h}};n.hsl=function(n){var a,t,r=n[0]/255,h=n[1]/255,e=n[2]/255,u=Math.min(r,h,e),i=Math.max(r,h,e),c=i-u;return i===u?a=0:r===i?a=(h-e)/c:h===i?a=2+(e-r)/c:e===i&&(a=4+(r-h)/c),(a=Math.min(60*a,360))<0&&(a+=360),t=(u+i)/2,[a,100*(i===u?0:t<=.5?c/(i+u):c/(2-i-u)),100*t]};var t={name:"hsv",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","value"],alias:["HSV","HSB"],rgb:function(n){var a=n[0]/60,t=n[1]/100,r=n[2]/100,h=Math.floor(a)%6,e=a-Math.floor(a),u=255*r*(1-t),i=255*r*(1-t*e),c=255*r*(1-t*(1-e));switch(r*=255,h){case 0:return[r,c,u];case 1:return[i,r,u];case 2:return[u,r,c];case 3:return[u,i,r];case 4:return[c,u,r];case 5:return[r,u,i]}},hsl:function(n){var a,t,r=n[0],h=n[1]/100,e=n[2]/100;return a=h*e,[r,100*(a=(a/=(t=(2-h)*e)<=1?t:2-t)||0),100*(t/=2)]}};n.hsv=function(n){var a,t,r=n[0],h=n[1],e=n[2],u=Math.min(r,h,e),i=Math.max(r,h,e),c=i-u;return t=0===i?0:c/i*100,i===u?a=0:r===i?a=(h-e)/c:h===i?a=2+(e-r)/c:e===i&&(a=4+(r-h)/c),(a=Math.min(60*a,360))<0&&(a+=360),[a,t,i/255*1e3/10]},a.hsv=function(n){var a=n[0],t=n[1]/100,r=n[2]/100;return[a,100*(2*(t*=(r*=2)<=1?r:2-r)/(r+t)||0),(r+t)/2*100]};var r={name:"hsi",min:[0,0,0],max:[360,100,255],channel:["hue","saturation","intensity"],alias:["HSI"],rgb:function(n){var a,t,r,h=(n[0]<0?n[0]%360+360:n[0]%360)*Math.PI/180,e=Math.max(0,Math.min(n[1],100))/100,u=Math.max(0,Math.min(n[2],255))/255,i=Math.PI/3;return h<2*i?(r=u*(1-e),a=u*(1+e*Math.cos(h)/Math.cos(i-h)),t=u*(1+e*(1-Math.cos(h)/Math.cos(i-h)))):h<4*i?(h-=2*i,a=u*(1-e),t=u*(1+e*Math.cos(h)/Math.cos(i-h)),r=u*(1+e*(1-Math.cos(h)/Math.cos(i-h)))):(h-=4*i,t=u*(1-e),r=u*(1+e*Math.cos(h)/Math.cos(i-h)),a=u*(1+e*(1-Math.cos(h)/Math.cos(i-h)))),[255*a,255*t,255*r]}};n.hsi=function(n){var a=n[0]+n[1]+n[2],t=n[0]/a,r=n[1]/a,h=n[2]/a,e=Math.acos(.5*(t-r+(t-h))/Math.sqrt((t-r)*(t-r)+(t-h)*(r-h)));h>r&&(e=2*Math.PI-e);var u=1-3*Math.min(t,r,h),i=a/3;return[180*e/Math.PI,100*u,i]};var h={name:"hwb",min:[0,0,0],max:[360,100,100],channel:["hue","whiteness","blackness"],alias:["HWB"],rgb:function(n){var a,t,r,h,e,u,i,c=n[0]/360,o=n[1]/100,s=n[2]/100,v=o+s;switch(v>1&&(o/=v,s/=v),r=6*c-(a=Math.floor(6*c)),0!=(1&a)&&(r=1-r),h=o+r*((t=1-s)-o),a){default:case 6:case 0:e=t,u=h,i=o;break;case 1:e=h,u=t,i=o;break;case 2:e=o,u=t,i=h;break;case 3:e=o,u=h,i=t;break;case 4:e=h,u=o,i=t;break;case 5:e=t,u=o,i=h}return[255*e,255*u,255*i]},hsv:function(n){var a,t,r=n[0],h=n[1],e=n[2];return h+e>=100?(a=0,t=100*h/(h+e)):(a=100-h/(1-e/100),t=100-e),[r,a,t]},hsl:function(n){return t.hsl(h.hsv(n))}};n.hwb=function(a){var t=a[0],r=a[1],h=a[2];return[n.hsl(a)[0],1/255*Math.min(t,Math.min(r,h))*100,100*(h=1-1/255*Math.max(t,Math.max(r,h)))]},t.hwb=function(n){var a=n[0],t=n[1],r=n[2];return[a,0===r?0:r*(1-t/100),100-r]},a.hwb=function(n){return t.hwb(a.hsv(n))};const e={name:"cmyk",min:[0,0,0,0],max:[100,100,100,100],channel:["cyan","magenta","yellow","black"],alias:["CMYK"],rgb:function(n){var a=n[0]/100,t=n[1]/100,r=n[2]/100,h=n[3]/100;return[255*(1-Math.min(1,a*(1-h)+h)),255*(1-Math.min(1,t*(1-h)+h)),255*(1-Math.min(1,r*(1-h)+h))]}};n.cmyk=function(n){var a,t=n[0]/255,r=n[1]/255,h=n[2]/255;return[100*((1-t-(a=Math.min(1-t,1-r,1-h)))/(1-a)||0),100*((1-r-a)/(1-a)||0),100*((1-h-a)/(1-a)||0),100*a]},n.cmy=function(n){return[100*(1-n[0]/255)||0,100*(1-n[1]/255)||0,100*(1-n[2]/255)||0]};var u={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};u.max=u.whitepoint[2].D65,u.rgb=function(n,a){a=a||u.whitepoint[2].E;var t,r,h,e=n[0]/a[0],i=n[1]/a[1],c=n[2]/a[2];return r=-.96924363628087*e+1.87596750150772*i+.041555057407175*c,h=.055630079696993*e+-.20397695888897*i+1.056971514242878*c,t=(t=3.240969941904521*e+-1.537383177570093*i+-.498610760293*c)>.0031308?1.055*Math.pow(t,1/2.4)-.055:t*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,h=h>.0031308?1.055*Math.pow(h,1/2.4)-.055:h*=12.92,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(h=Math.min(Math.max(0,h),1))]},n.xyz=function(n,a){var t=n[0]/255,r=n[1]/255,h=n[2]/255,e=.21263900587151*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.71516867876775*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.072192315360733*(h=h>.04045?Math.pow((h+.055)/1.055,2.4):h/12.92),i=.019330818715591*t+.11919477979462*r+.95053215224966*h;return[(.41239079926595*t+.35758433938387*r+.18048078840183*h)*(a=a||u.whitepoint[2].E)[0],e*a[1],i*a[2]]};var i={name:"xyy",min:[0,0,0],max:[1,1,100],channel:["x","y","Y"],alias:["xyY","Yxy","yxy"],xyz:function(n){var a,t,r;return t=n[0],r=n[1],a=n[2],0===r?[0,0,0]:[t*a/r,a,(1-t-r)*a/r]}};u.xyy=function(n){var a,t,r;return 0===(a=(t=n[0])+(r=n[1])+n[2])?[0,0,r]:[t/a,r/a,r]};var c={name:"yiq",min:[0,-.5957,-.5226],max:[1,.5957,.5226],channel:["Y","I","Q"],alias:["YIQ"],rgb:function(n){var a,t,r,h=n[0],e=n[1],u=n[2];return a=1*h+.956*e+.621*u,t=1*h+-.272*e+-.647*u,r=1*h+-1.108*e+1.705*u,[255*(a=Math.min(Math.max(0,a),1)),255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1))]}};n.yiq=function(n){var a=n[0]/255,t=n[1]/255,r=n[2]/255,h=0,e=0;return a===t&&t===r||(h=.596*a+-.275*t+-.321*r,e=.212*a+-.528*t+.311*r),[.299*a+.587*t+.114*r,h,e]};var o={name:"yuv",min:[0,-.5,-.5],max:[1,.5,.5],channel:["Y","U","V"],alias:["YUV","EBU"],rgb:function(n){var a,t,r,h=n[0],e=n[1],u=n[2];return a=1*h+0*e+1.13983*u,t=1*h+-.39465*e+-.5806*u,r=1*h+2.02311*e+0*u,[255*(a=Math.min(Math.max(0,a),1)),255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1))]}};n.yuv=function(n){var a=n[0]/255,t=n[1]/255,r=n[2]/255;return[.299*a+.587*t+.114*r,-.14713*a+-.28886*t+.436*r,.615*a+-.51499*t+-.10001*r]};var s={name:"ydbdr",min:[0,-1.333,-1.333],max:[1,1.333,1.333],channel:["Y","Db","Dr"],alias:["YDbDr"],rgb:function(n){var a=n[0],t=n[1],r=n[2];return[255*(a+92303716148e-15*t-.525912630661865*r),255*(a-.129132898890509*t+.267899328207599*r),255*(a+.664679059978955*t-79202543533e-15*r)]}};n.ydbdr=function(n){var a=n[0]/255,t=n[1]/255,r=n[2]/255;return[.299*a+.587*t+.114*r,-.45*a-.883*t+1.333*r,-1.333*a+1.116*t+.217*r]},o.ydbdr=function(n){return[n[0],3.059*n[1],-2.169*n[2]]},s.yuv=function(n){return[n[0],n[1]/3.059,-n[2]/2.169]},n.ycgco=function(n){var a=n[0]/255,t=n[1]/255,r=n[2]/255;return[.25*a+.5*t+.25*r,-.25*a+.5*t-.25*r,.5*a-.5*r]};var v={name:"ypbpr",min:[0,-.5,-.5],max:[1,.5,.5],channel:["Y","Pb","Pr"],alias:["YPbPr","Y/PB/PR","YPRPB","PRPBY","PBPRY","Y/Pb/Pr","YPrPb","PrPbY","PbPrY","Y/R-Y/B-Y","Y(R-Y)(B-Y)","R-Y","B-Y"],rgb:function(n,a,t){var r=n[0],h=n[1];a=a||.0722;var e=r+2*n[2]*(1-(t=t||.2126)),u=r+2*h*(1-a);return[255*e,(r-t*e-a*u)/(1-t-a)*255,255*u]}};n.ypbpr=function(n,a,t){var r=n[0]/255,h=n[1]/255,e=n[2]/255,u=(t=t||.2126)*r+(1-t-(a=a||.0722))*h+a*e;return[u,.5*(e-u)/(1-a),.5*(r-u)/(1-t)]};var l={name:"ycbcr",min:[16,16,16],max:[235,240,240],channel:["Y","Cb","Cr"],alias:["YCbCr","YCC"],ypbpr:function(n){return[(n[0]-16)/219,(n[1]-128)/224,(n[2]-128)/224]}};v.ycbcr=function(n){return[16+219*n[0],128+224*n[1],128+224*n[2]]},l.rgb=function(n,a,t){return v.rgb(l.ypbpr(n),a,t)},n.ycbcr=function(a,t,r){return v.ycbcr(n.ypbpr(a,t,r))};var m={name:"xvycc",min:[0,0,0],max:[255,255,255],channel:["Y","Cb","Cr"],alias:["xvYCC"],ypbpr:function(n){return[(n[0]-16)/219,(n[1]-128)/224,(n[2]-128)/224]}};v.xvycc=function(n){return[16+219*n[0],128+224*n[1],128+224*n[2]]},m.rgb=function(n,a,t){return v.rgb(m.ypbpr(n),a,t)},n.xvycc=function(a,t,r){return v.xvycc(n.ypbpr(a,t,r))};var M={name:"yccbccrc",min:[0,-.5,-.5],max:[1,.5,.5],channel:["Yc","Cbc","Crc"],alias:["YcCbcCrc"],rgb:function(n){return v.rgb(n,.0593,.2627)}};n.yccbccrc=function(a){return n.ypbpr(a,.0593,.2627)};var f={name:"ucs",min:[0,0,0],max:[100,100,100],channel:["U","V","W"],alias:["UCS","cie1960"],xyz:function(n){var a=n[0],t=n[1];return[1.5*a,t,1.5*a-3*t+2*n[2]]}};u.ucs=function(n){var a=n[0],t=n[1];return[2*a/3,t,.5*(3*t-a+n[2])]};var b={name:"uvw",min:[-134,-140,0],max:[224,122,100],channel:["U","V","W"],alias:["UVW","cieuvw","cie1964"],xyz:function(n,a,t){var r,h,e,i,c,o,s,v,l,m,M;return i=n[0],c=n[1],0===(e=n[2])?[0,0,0]:(a=a||"D65",t=t||2,m=4*(s=u.whitepoint[t][a][0])/(s+15*(v=u.whitepoint[t][a][1])+3*(l=u.whitepoint[t][a][2])),M=6*v/(s+15*v+3*l),[1.5*(o=Math.pow((e+17)/25,3))*(r=i/(13*e)+m||0)/(h=c/(13*e)+M||0),o,o*(2/h-.5*r/h-5)])}};u.uvw=function(n,a,t){var r,h,e,i,c,o=n[0],s=n[1],v=n[2];a=a||"D65",t=t||2,i=4*(r=u.whitepoint[t][a][0])/(r+15*(h=u.whitepoint[t][a][1])+3*(e=u.whitepoint[t][a][2])),c=6*h/(r+15*h+3*e);var l=4*o/(o+15*s+3*v)||0,m=6*s/(o+15*s+3*v)||0,M=25*Math.pow(s,1/3)-17;return[13*M*(l-i),13*M*(m-c),M]},b.ucs=function(n){throw new Error("Not implemented")},f.uvw=function(n){throw new Error("Not implemented")},n.jpeg=function(n){var a=n[0],t=n[1],r=n[2];return[.299*a+.587*t+.114*r,128-.168736*a-.331264*t+.5*r,128+.5*a-.418688*t-.081312*r]};var x={name:"lab",min:[0,-100,-100],max:[100,100,100],channel:["lightness","a","b"],alias:["LAB","cielab"],xyz:function(n){var a,t,r,h,e=n[0],u=n[1],i=n[2];return e<=8?h=(t=100*e/903.3)/100*7.787+16/116:(t=100*Math.pow((e+16)/116,3),h=Math.pow(t/100,1/3)),[a=a/95.047<=.008856?a=95.047*(u/500+h-16/116)/7.787:95.047*Math.pow(u/500+h,3),t,r=r/108.883<=.008859?r=108.883*(h-i/200-16/116)/7.787:108.883*Math.pow(h-i/200,3)]}};u.lab=function(n){var a=n[0],t=n[1],r=n[2];return t/=100,r/=108.883,a=(a/=95.047)>.008856?Math.pow(a,1/3):7.787*a+16/116,[116*(t=t>.008856?Math.pow(t,1/3):7.787*t+16/116)-16,500*(a-t),200*(t-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},u.labh=function(n){var a=n[0],t=n[1],r=n[2],h=Math.sqrt(t);return[10*h,0===t?0:(1.02*a-t)/h*17.5,0===t?0:(t-.847*r)/h*7]};var p={name:"lms",min:[0,0,0],max:[100,100,100],channel:["long","medium","short"],matrix:{HPE:[.38971,.68898,-.07868,-.22981,1.1834,.04641,0,0,1],VONKRIES:[.4002,.7076,-.0808,-.2263,1.1653,.0457,0,0,.9182],BFD:[.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0686,1.0296],CAT97:[.8562,.3372,-.1934,-.836,1.8327,.0033,.0357,-.00469,1.0112],CAT00:[.7982,.3389,-.1371,-.5918,1.5512,.0406,8e-4,.0239,.9753],CAT02:[.7328,.4296,-.1624,-.7036,1.6975,.0061,.003,.0136,.9834]},xyz:function(n,a){var t=n[0],r=n[1],h=n[2];return a||(a=[1.096123820835514,-.278869000218287,.182745179382773,.454369041975359,.473533154307412,.072097803717229,-.009627608738429,-.005698031216113,1.015325639954543]),[t*a[0]+r*a[1]+h*a[2],t*a[3]+r*a[4]+h*a[5],t*a[6]+r*a[7]+h*a[8]]}};u.lms=function(n,a){var t=n[0],r=n[1],h=n[2];return a||(a=p.matrix.CAT02),[t*a[0]+r*a[1]+h*a[2],t*a[3]+r*a[4]+h*a[5],t*a[6]+r*a[7]+h*a[8]]};var y={name:"lchab",min:[0,0,0],max:[100,100,360],channel:["lightness","chroma","hue"],alias:["LCHab","cielch","LCH","HLC","LSH"],xyz:function(n){return x.xyz(y.lab(n))},lab:function(n){var a,t=n[0],r=n[1];return a=n[2]/360*2*Math.PI,[t,r*Math.cos(a),r*Math.sin(a)]}};x.lchab=function(n){var a,t=n[0],r=n[1],h=n[2];return(a=360*Math.atan2(h,r)/2/Math.PI)<0&&(a+=360),[t,Math.sqrt(r*r+h*h),a]},u.lchab=function(n){return x.lchab(u.lab(n))};var g={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(n,a,t){var r,h,e,i,c,o,s,v,l;return e=n[0],i=n[1],c=n[2],0===e?[0,0,0]:(a=a||"D65",t=t||2,r=i/(13*e)+4*(s=u.whitepoint[t][a][0])/(s+15*(v=u.whitepoint[t][a][1])+3*(l=u.whitepoint[t][a][2]))||0,h=c/(13*e)+9*v/(s+15*v+3*l)||0,[9*(o=e>8?v*Math.pow((e+16)/116,3):v*e*.0011070564598794539)*r/(4*h)||0,o,o*(12-3*r-20*h)/(4*h)||0])}};u.luv=function(n,a,t){var r,h,e,i,c,o,s,v,l,m,M;a=a||"D65",t=t||2,m=4*(s=u.whitepoint[t][a][0])/(s+15*(v=u.whitepoint[t][a][1])+3*(l=u.whitepoint[t][a][2])),M=9*v/(s+15*v+3*l),r=4*(i=n[0])/(i+15*(c=n[1])+3*(o=n[2]))||0,h=9*c/(i+15*c+3*o)||0;var f=c/v;return[e=f<=.008856451679035631?903.2962962962961*f:116*Math.pow(f,1/3)-16,13*e*(r-m),13*e*(h-M)]};var w={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(n){var a,t=n[0],r=n[1];return a=n[2]/360*2*Math.PI,[t,r*Math.cos(a),r*Math.sin(a)]},xyz:function(n){return g.xyz(w.luv(n))}};function P(n){var a=[],t=Math.pow(n+16,3)/1560896;t=t>j?t:n/X;for(var r=0;3>r;){var h=r++,e=V[h][0],u=V[h][1];h=V[h][2];for(var i=0;2>i;){var c=i++,o=(632260*h-126452*u)*t+126452*c;a.push({b:(284517*e-94839*h)*t/o,a:((838422*h+769860*u+731718*e)*n*t-769860*c*n)/o})}}return a}function Y(n){n=P(n);for(var a=1/0,t=0;t<n.length;){var r=n[t];++t,a=Math.min(a,Math.abs(r.a)/Math.sqrt(Math.pow(r.b,2)+1))}return a}function C(n,a){a=a/360*Math.PI*2,n=P(n);for(var t=1/0,r=0;r<n.length;){var h=n[r];++r,0<=(h=h.a/(Math.sin(a)-h.b*Math.cos(a)))&&(t=Math.min(t,h))}return t}function T(n,a){for(var t=0,r=0,h=n.length;r<h;){var e=r++;t+=n[e]*a[e]}return t}function d(n){return.0031308>=n?12.92*n:1.055*Math.pow(n,.4166666666666667)-.055}function H(n){return.04045<n?Math.pow((n+.055)/1.055,2.4):n/12.92}function z(n){return[d(T(V[0],n)),d(T(V[1],n)),d(T(V[2],n))]}function q(n){return n=[H(n[0]),H(n[1]),H(n[2])],[T(F[0],n),T(F[1],n),T(F[2],n)]}function L(n){var a=n[0],t=n[1];return 0!=(n=a+15*t+3*n[2])?(a=4*a/n,n=9*t/n):n=a=NaN,0==(t=t<=j?t/N*X:116*Math.pow(t/N,.3333333333333333)-16)?[0,0,0]:[t,13*t*(a-G),13*t*(n-W)]}function I(n){var a=n[0];if(0==a)return[0,0,0];var t=n[1]/(13*a)+G;return n=n[2]/(13*a)+W,[t=0-9*(a=8>=a?N*a/X:N*Math.pow((a+16)/116,3))*t/((t-4)*n-t*n),a,(9*a-15*n*a-n*t)/(3*n)]}function D(n){var a=n[0],t=n[1],r=n[2];return 1e-8>(n=Math.sqrt(t*t+r*r))?t=0:0>(t=180*Math.atan2(r,t)/Math.PI)&&(t=360+t),[a,n,t]}function k(n){var a=n[1],t=n[2]/360*2*Math.PI;return[n[0],Math.cos(t)*a,Math.sin(t)*a]}function S(n){var a=n[0],t=n[1];return 99.9999999<(n=n[2])?[100,0,a]:1e-8>n?[0,0,a]:[n,t=C(n,a)/100*t,a]}function B(n){var a=n[0],t=n[1];return n=n[2],99.9999999<a?[n,0,100]:1e-8>a?[n,0,0]:[n,t/C(a,n)*100,a]}function A(n){var a=n[0],t=n[1];return 99.9999999<(n=n[2])?[100,0,a]:1e-8>n?[0,0,a]:[n,t=Y(n)/100*t,a]}function R(n){var a=n[0],t=n[1];return n=n[2],99.9999999<a?[n,0,100]:1e-8>a?[n,0,0]:[n,t/Y(a)*100,a]}function E(n){return z(I(k(n)))}function U(n){return D(L(q(n)))}g.lchuv=function(n){var a=n[0],t=n[1],r=n[2],h=Math.sqrt(t*t+r*r),e=360*Math.atan2(r,t)/2/Math.PI;return e<0&&(e+=360),[a,h,e]},u.lchuv=function(n){return g.lchuv(u.luv(n))};var V=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],F=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]],N=1,G=.19783000664283,W=.46831999493879,X=903.2962962,j=.0088564516;const K={hsluvToRgb:function(n){return E(S(n))},hsluvToLch:S,rgbToHsluv:function(n){return B(U(n))},rgbToHpluv:function(n){return R(U(n))},rgbToXyz:q,rgbToLch:U,hpluvToRgb:function(n){return E(A(n))},hpluvToLch:A,lchToHpluv:R,lchToHsluv:B,lchToLuv:k,lchToRgb:E,luvToLch:D,luvToXyz:I,xyzToLuv:L,xyzToRgb:z};var O={name:"hsluv",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSLuv","HuSL"],lchuv:K.hsluvToLch,xyz:function(n){return w.xyz(K.hsluvToLch(n))},hpluv:function(n){return K.lchToHpluv(K.hsluvToLch(n))},_hsluv:K};w.hsluv=K.lchToHsluv,u.hsluv=function(n){return K.lchToHsluv(u.lchuv(n))},n.hsluv=K.rgbToHsluv;var Q={name:"hpluv",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HPLuv","HuSLp"],lchuv:K.hpluvToLch,xyz:function(n){return w.xyz(K.hpluvToLch(n))},hsluv:function(n){return K.lchToHsluv(K.hpluvToLch(n))}};w.hpluv=K.lchToHpluv,u.hpluv=function(n){return K.lchToHpluv(u.lchuv(n))};var Z={start:0,rotation:.5,hue:1,gamma:1},_={name:"cubehelix",channel:["fraction"],min:[0],max:[1],defaults:Z,rgb:function(n,a){a=a||{},Array.isArray(n)&&(n=n[0]);var t=void 0!==a.start?a.start:Z.start,r=void 0!==a.rotation?a.rotation:Z.rotation,h=void 0!==a.gamma?a.gamma:Z.gamma,e=void 0!==a.hue?a.hue:Z.hue,u=2*Math.PI*(t/3+1+r*n),i=e*(n=Math.pow(n,h))*(1-n)/2,c=n+i*(-.14861*Math.cos(u)+1.78277*Math.sin(u)),o=n+i*(-.29227*Math.cos(u)-.90649*Math.sin(u)),s=n+i*(1.97294*Math.cos(u));return[255*(c=Math.max(1,Math.min(c,0))),255*(o=Math.max(1,Math.min(o,0))),255*(s=Math.max(1,Math.min(s,0)))]}};n.cubehelix=function(n){throw new Error("rgb.cubehelix conversion is not implemented yet")};var J={name:"coloroid",alias:["ATV"],channel:["A","T","V"],min:[10,0,0],max:[76,100,100],table:[[10,59,1.724349,.44987,.53641],[11,55.3,1.740844,.46248,.52444],[12,51.7,1.754985,.47451,.51298],[13,48.2,1.767087,.48601,.50325],[14,44.8,1.775953,.49578,.49052],[15,41.5,1.785073,.5079,.43035],[16,38.2,1.791104,.51874,.46934],[20,34.9,1.794831,.5298,.45783],[21,31.5,1.798664,.54137,.44559],[22,28,1.794819,.55367,.43253],[23,24.4,1.78961,.5668,.41811],[24,20.6,1.809483,.58128,.40176],[25,16.6,1.760983,.59766,.383],[26,12.3,1.723443,.61653,.36061],[30,7.7,1.652891,.63896,.33358],[31,2.8,1.502607,.66619,.2993],[32,-2.5,1.0725,.70061,.26753],[33,-8.4,1.136637,.63925,.22631],[34,-19.8,1.232286,.53962,.19721],[35,-31.6,1.31012,.5034,.17495],[40,-43.2,1.37661,.46041,.15603],[41,-54.6,1.438692,.42386,.13846],[42,-65.8,1.501582,.38991,.12083],[43,-76.8,1.570447,.35586,.10328],[44,-86.8,1.645583,.32195,.08496],[45,-95.8,1.732083,.28657,.05155],[46,-108.4,1.915753,.22202,.01771],[50,-117.2,2.14631,.15664,.05227],[51,-124.7,1.649939,.12736,.0902],[52,-131.8,1.273415,.10813,.12506],[53,-138.5,1.080809,.09414,.15741],[54,-145.1,.957076,.03249,.18958],[55,-152,.868976,.07206,.24109],[56,-163.4,.771731,.05787,.30378],[60,-177.2,.697108,.04353,.35696],[61,171.6,.655803,.03291,.41971],[62,152.4,.623958,.0224,.49954],[63,148.4,.596037,.01196,.60321],[64,136.8,.607413,.00425,.73542],[65,125.4,.659923,.01099,.83391],[66,114.2,.859517,.0805,.77474],[70,103.2,1.195683,.20259,.7046],[71,93.2,1.407534,.28807,.6523],[72,84.2,1.532829,.34422,.6193],[73,77.3,1.603792,.37838,.59533],[74,71.6,1.649448,.4029,.57716],[75,66.9,1.68108,.42141,.56222],[76,62.8,1.704979,.43647,.54895]],xyy:function(n){for(var a,t=n[0],r=n[1],h=n[2],e=0;e<$.length;e++)if(t<=$[e][0]){a=$[e];break}var u=a[4],i=a[2],c=a[3],o=h*h/100,s=u*i*100;return[(100*o*un*cn+100*c*i*r-s*r*un*cn)/(100*r*i-s*r*cn+100*o*cn),(100*o+100*r*u*i-s*r)/(o*cn*100+100*r*i-r*s*cn),o]}},$=J.table,nn=$.slice(-13).concat($.slice(0,-13)),an="D65",tn=u.whitepoint[2][an][0],rn=u.whitepoint[2][an][1],hn=u.whitepoint[2][an][2],en=tn/(tn+rn+hn),un=rn/(tn+rn+hn),cn=(tn+rn+hn)/100;i.coloroid=function(n){for(var a,t=n[0],r=n[1],h=n[2],e=10*Math.sqrt(h),u=180*Math.atan2(r-en,t-un)/Math.PI,i=nn.length-1,c=0;c<nn.length&&!(u>nn[c][1]);c++)i=c;var o=(a=Math.abs(nn[c+1][1]-u)>Math.abs(nn[i][1]-u)?nn[c+1]:nn[i])[0],s=a[4],v=a[2],l=a[3];return[o,100*h*(un*cn-t*cn)/(100*(t*v-l*v)+s*v*100*(un*cn-t*cn)),e]},u.coloroid=function(n){return i.coloroid(u.xyy(n))},J.xyz=function(n){return i.xyz(J.xyy(n))};var on={name:"hcg",min:[0,0,0],max:[360,100,100],channel:["hue","chroma","gray"],alias:["HCG","HSG"],rgb:function(n){var a=n[0]/360,t=n[1]/100,r=n[2]/100;if(0===t)return[255*r,255*r,255*r];var h=a%1*6,e=h%1,u=[0,0,0],i=1-e;switch(Math.floor(h)){case 0:u[0]=1,u[1]=e,u[2]=0;break;case 1:u[0]=i,u[1]=1,u[2]=0;break;case 2:u[0]=0,u[1]=1,u[2]=e;break;case 3:u[0]=0,u[1]=i,u[2]=1;break;case 4:u[0]=e,u[1]=0,u[2]=1;break;default:u[0]=1,u[1]=0,u[2]=i}var c=(1-t)*r;return[255*(t*u[0]+c),255*(t*u[1]+c),255*(t*u[2]+c)]},hsl:function(n){var a=n[1]/100,t=n[2]/100*(1-a)+.5*a,r=0;return t<1&&t>0&&(r=t<.5?a/(2*t):a/(2*(1-t))),[n[0],100*r,100*t]},hsv:function(n){var a,t=n[1]/100,r=t+n[2]/100*(1-t);if(r>0){var h=t/r;a=[n[0],100*h,100*r]}else a=[n[0],0,100*r];return a},hwb:function(n){var a=n[1]/100,t=a+n[2]/100*(1-a);return[n[0],100*(t-a),100*(1-t)]}};n.hcg=function(n){var a,t=n[0]/255,r=n[1]/255,h=n[2]/255,e=Math.max(Math.max(t,r),h),u=Math.min(Math.min(t,r),h),i=e-u;return i>0?(a=e===t?(r-h)/i%6:e===r?2+(h-t)/i:4+(t-r)/i,a/=6,a%=1):a=0,[360*a,100*i,100*(i<1?u/(1-i):0)]},a.hcg=function(n){var a,t,r=n[1]/100,h=n[2]/100;if((t=h<.5?2*r*h:2*r*(1-h))<1){var e=(h-.5*t)/(1-t);a=[n[0],100*t,100*e]}else a=[n[0],100*t,0];return a},t.hcg=function(n){var a,t=n[1]/100,r=n[2]/100,h=t*r;if(h<1){var e=(r-h)/(1-h);a=[n[0],100*h,100*e]}else a=[n[0],100*h,0];return a},h.hcg=function(n){var a=n[1]/100,t=1-n[2]/100,r=t-a,h=0;return r<1&&(h=(t-r)/(1-r)),[n[0],100*r,100*h]};var sn={name:"hcy",min:[0,0,0],max:[360,100,255],channel:["hue","chroma","luminance"],alias:["HCY"],rgb:function(n){var a,t,r,h=(n[0]<0?n[0]%360+360:n[0]%360)*Math.PI/180,e=Math.max(0,Math.min(n[1],100))/100,u=Math.max(0,Math.min(n[2],255))/255,i=Math.PI/3;return h<2*i?(r=u*(1-e),a=u*(1+e*Math.cos(h)/Math.cos(i-h)),t=u*(1+e*(1-Math.cos(h)/Math.cos(i-h)))):h<4*i?(h-=2*i,a=u*(1-e),t=u*(1+e*Math.cos(h)/Math.cos(i-h)),r=u*(1+e*(1-Math.cos(h)/Math.cos(i-h)))):(h-=4*i,t=u*(1-e),r=u*(1+e*Math.cos(h)/Math.cos(i-h)),a=u*(1+e*(1-Math.cos(h)/Math.cos(i-h)))),[255*a,255*t,255*r]}};n.hcy=function(n){var a=n[0]+n[1]+n[2],t=n[0]/a,r=n[1]/a,h=n[2]/a,e=Math.acos(.5*(t-r+(t-h))/Math.sqrt((t-r)*(t-r)+(t-h)*(r-h)));h>r&&(e=2*Math.PI-e);var u=1-3*Math.min(t,r,h),i=a/3;return[180*e/Math.PI,100*u,i]};var vn={name:"tsl",min:[0,0,0],max:[1,1,1],channel:["tint","saturation","lightness"],alias:["TSL"],rgb:function(n){var a=n[0],t=n[1],r=n[2],h=Math.tan(2*Math.PI*(a-1/4));h*=h;var e=Math.sqrt(5*t*t/(9*(1/h+1)))+1/3,u=Math.sqrt(5*t*t/(9*(h+1)))+1/3,i=r/(.185*e+.473*u+.114);return[i*e*255,i*u*255,i*(1-e-u)*255]}};n.tsl=function(n){var[a,t,r]=n,h=(a/(a+t+r)||0)-1/3,e=(t/(a+t+r)||0)-1/3;return[0!=e?.5-Math.atan2(e,h)/2/Math.PI:0,Math.sqrt(1.8*(h*h+e*e)),(.299*a+.587*t+.114*r)/255]},n.yes=function(n){var a=n[0]/255,t=n[1]/255,r=n[2]/255,h=[.253,.684,.063,.5,-.5,0,.25,.25,-.5];return[a*h[0]+t*h[1]+r*h[2],a*h[3]+t*h[4]+r*h[5],a*h[6]+t*h[7]+r*h[8]]},u.osaucs=function(n){var a=n[0],t=n[1],r=n[2],h=a/(a+t+r),e=t/(a+t+r),u=(4.4934*h*h+4.3034*e*e-4.276*h*e-1.3744*h-2.56439*e+1.8103)*t,i=5.9*(Math.pow(u,1/3)-2/3+.042*Math.pow(Math.max(u,30)-30,1/3)),c=(i-14.3993)/Math.sqrt(2),o=i/(5.9*(Math.pow(u,1/3)-2/3)),s=.779*a+.4194*t-.1648*r,v=-.4493*a+1.3265*t+.0927*r,l=-.1149*a+.3394*t+.717*r;return[c,o*(1.7*(s=Math.pow(s,1/3)||0)+8*(v=Math.pow(v,1/3)||0)-9.7*(l=Math.pow(l,1/3)||0)),o*(-13.7*s+17.7*v-4*l)]};const ln=.299,mn=.587,Mn=.114;var fn={name:"hsp",min:[0,0,0],max:[360,100,255],channel:["hue","saturation","perceived_brightness"],alias:["HSP"],rgb:function(n){var a,t,r,h,e=n[0]/360,u=n[1]/100,i=n[2],c=1-u;return c>0?e<1/6?(h=1+(e=6*(e-0))*(1/c-1),t=(r=i/Math.sqrt(ln/c/c+mn*h*h+Mn))+e*((a=r/c)-r)):e<2/6?(h=1+(e=6*(2/6-e))*(1/c-1),a=(r=i/Math.sqrt(mn/c/c+ln*h*h+Mn))+e*((t=r/c)-r)):e<.5?(h=1+(e=6*(e-2/6))*(1/c-1),r=(a=i/Math.sqrt(mn/c/c+Mn*h*h+ln))+e*((t=a/c)-a)):e<4/6?(h=1+(e=6*(4/6-e))*(1/c-1),t=(a=i/Math.sqrt(Mn/c/c+mn*h*h+ln))+e*((r=a/c)-a)):e<5/6?(h=1+(e=6*(e-4/6))*(1/c-1),a=(t=i/Math.sqrt(Mn/c/c+ln*h*h+mn))+e*((r=t/c)-t)):(h=1+(e=6*(1-e))*(1/c-1),r=(t=i/Math.sqrt(ln/c/c+Mn*h*h+mn))+e*((a=t/c)-t)):e<1/6?(e=6*(e-0),t=(a=Math.sqrt(i*i/(ln+mn*e*e)))*e,r=0):e<2/6?(e=6*(2/6-e),a=(t=Math.sqrt(i*i/(mn+ln*e*e)))*e,r=0):e<.5?(e=6*(e-2/6),r=(t=Math.sqrt(i*i/(mn+Mn*e*e)))*e,a=0):e<4/6?(e=6*(4/6-e),t=(r=Math.sqrt(i*i/(Mn+mn*e*e)))*e,a=0):e<5/6?(e=6*(e-4/6),a=(r=Math.sqrt(i*i/(Mn+ln*e*e)))*e,t=0):(e=6*(1-e),r=(a=Math.sqrt(i*i/(ln+Mn*e*e)))*e,t=0),[Math.round(a),Math.round(t),Math.round(r)]}};n.hsp=function(n){var a,t,r,h=parseInt(n[0],10),e=parseInt(n[1],10),u=parseInt(n[2],10);return r=Math.sqrt(h*h*ln+e*e*mn+u*u*Mn),h===e&&h===u?(a=0,t=0):(h>=e&&h>=u&&(u>=e?(a=1-1/6*(u-e)/(h-e),t=1-e/h):(a=0+1/6*(e-u)/(h-u),t=1-u/h)),e>=h&&e>=u&&(h>=u?(a=2/6-1/6*(h-u)/(e-u),t=1-u/e):(a=2/6+1/6*(u-h)/(e-h),t=1-h/e)),u>=h&&u>=e&&(e>=h?(a=4/6-1/6*(e-h)/(u-h),t=1-h/u):(a=4/6+1/6*(h-e)/(u-e),t=1-e/u))),[Math.round(360*a),100*t,Math.round(r)]};const bn={};function xn(n){const a=n.name;var t;for(t in bn){n[t]||(n[t]=pn(n,t));const r=bn[t];r[a]||(r[a]=pn(r,a))}bn[a]=n}function pn(n,a){return n.xyz&&bn.xyz[a]?t=>bn.xyz[a](n.xyz(t)):n.rgb&&bn.rgb[a]?t=>bn.rgb[a](n.rgb(t)):()=>{throw new Error("Conversion not available")}}[n,u,a,t,r,h,e,{name:"cmy",min:[0,0,0],max:[100,100,100],channel:["cyan","magenta","yellow"],alias:["CMY"],rgb:function(n){return[255*(1-n[0]/100),255*(1-n[1]/100),255*(1-n[2]/100)]}},i,c,o,s,{name:"ycgco",min:[0,-.5,-.5],max:[1,.5,.5],channel:["Y","Cg","Co"],alias:["YCgCo"],rgb:function(n){var a=n[0],t=n[1],r=n[2],h=a-t;return[255*(h+r),255*(a+t),255*(h-r)]}},v,l,m,M,f,b,{name:"jpeg",min:[0,0,0],max:[255,255,255],channel:["Y","Cb","Cr"],alias:["JPEG"],rgb:function(n){var a=n[0],t=n[1],r=n[2];return[a+1.402*(r-128),a-.34414*(t-128)-.71414*(r-128),a+1.772*(t-128)]}},x,{name:"labh",min:[0,-128,-128],max:[100,128,128],channel:["lightness","a","b"],alias:["LABh","hunter-lab","hlab"],xyz:function(n){var a=n[0],t=a/10,r=t*t;return[(n[1]/17.5*a/10+r)/1.02,r,-(n[2]/7*a/10-r)/.847]}},p,y,g,w,O,Q,_,J,on,sn,vn,{name:"yes",min:[0,0,0],max:[1,1,1],channel:["luminance","e-factor","s-factor"],rgb:function(n){var a=n[0],t=n[1],r=n[2],h=[1,1.431,.126,1,-.569,.126,1,.431,-1.874];return[255*(a*h[0]+t*h[1]+r*h[2]),255*(a*h[3]+t*h[4]+r*h[5]),255*(a*h[6]+t*h[7]+r*h[8])]}},{name:"osaucs",alias:["OSA-UCS"],channel:["L","j","g"],min:[-10,-6,-10],max:[8,12,6],xyz:function(n){throw"Unimplemented"}},fn].map(xn);export{bn as default,xn as register};